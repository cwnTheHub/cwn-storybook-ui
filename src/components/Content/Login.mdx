import {  Canvas, Meta, Title, Subtitle, Description, Primary, Controls, Stories } from '@storybook/blocks';

import * as LoginStories from './Login.stories';

<Meta of={LoginStories} />
<Title />
	
`` import { Login } from '@nds_core/nds' ``

Here's a description of the login flow you provided:

1. **User enters username:** The login process begins with the user entering their username into the system.

2. **On input blur, system checks if the user exists:** After the user has input their username and the input field loses focus (e.g., they click or tab out of the username field), the system checks if the entered username exists in its database.

3. **If the user exists, system displays password input for the user:** If the system finds a matching username, it then displays a password input field for the user to enter their password.

4. **User enters password and logs in:** The user enters their password, and upon successful authentication, they are logged into their account.

5. **System checks if the user has subscribed for 2FA:** After successful login with the username and password, the system checks if the user has subscribed to Two-Factor Authentication (2FA).

6. **If the user has subscribed for 2FA, system displays Secure code input for the user:** If the user has enabled 2FA, the system prompts the user to enter a secure code generated by their 2FA method to complete the login process.

7. **If the user has not subscribed for 2FA, the system notifies the user to do so and complete the login process:** If the user has not enabled 2FA, the system informs them of the security benefits and prompts them to set up 2FA to enhance their account security before proceeding.

8. **In case the system checks and the user does not exist, the system displays the registration form:** If the system does not find a matching username during the initial check, it switches to a registration mode, displaying a registration form for the user to complete.

9. **User completes their registration:** The user fills out the registration form with the required information to create a new account.

10. **System must then notify the user to activate their profile to proceed to login:** After successful registration, the system prompts the user to activate their newly created profile. This might involve verifying their email address or taking other necessary activation steps.

11. **If the user's account is not enabled, locked, or expired, the system will display an error message upon login:** If, during any step in the login process, the system detects that the user's account is not enabled, locked, or has expired, it will display an appropriate error message, preventing the user from logging in until the issue is resolved.

This flow describes a comprehensive user authentication and authorization process, including account creation, 2FA considerations, and handling various states of user accounts.

All functions take the following format: 

```json
{
    data: {} || null,
    error:{status:number, message:string} || null,
    success:{status:number, message:string} || null,
}
```

**account with 2FA:** (username: moderator, password: password, secureCode: 123456)

**account without 2FA:** (username: admin, password: password)

<Primary />

## Login component

The component accepts the following inputs (props):

<Controls />

## Additional variations

Listed below are additional variations of the component.

<Stories />
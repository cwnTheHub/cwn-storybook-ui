"use strict";(self.webpackChunk_nds_core_nds=self.webpackChunk_nds_core_nds||[]).push([[6923],{"./src/core/core-interactive-icon/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{mm:function(){return svgs.mm},pO:function(){return svgs.pO},Uh:function(){return svgs.Uh},s$:function(){return svgs.s$},_Q:function(){return svgs._Q},x8:function(){return svgs.x8},hU:function(){return core_interactive_icon_IconButton},W7:function(){return svgs.W7},LB:function(){return svgs.LB}});var svgs=__webpack_require__("./src/core/core-interactive-icon/svgs/index.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),A11yContent=__webpack_require__("./src/core/core-a11y-content/A11yContent.js"),colours=__webpack_require__("./src/core/core-colours/colours.js"),util_helpers=__webpack_require__("./src/util-helpers/index.js"),animations=__webpack_require__("./src/core/core-interactive-icon/shared/animations.js"),StyledInteractiveIconButton=__webpack_require__("./src/core/core-interactive-icon/shared/StyledInteractiveIconButton.js"),StyledInteractiveIconHover=__webpack_require__("./src/core/core-interactive-icon/shared/StyledInteractiveIconHover.js"),warn=__webpack_require__("./src/utils/warn.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["a11yText","variant","onClick","tag","icon"],StyledIconButton=(0,styled_components_browser_esm.ZP)(StyledInteractiveIconButton.Z)(animations.Z.scale,{"&:hover > svg":animations.Z.reduceMotion}),getTheme=function getTheme(variant){return"alternative"===variant?{hoverBackgroundColor:"#D8CBE5"}:"inverted"===variant?{hoverBackgroundColor:"transparent"}:{hoverBackgroundColor:colours.Nw}},IconButton=(0,react.forwardRef)((function(_ref,ref){var color,a11yText=_ref.a11yText,variant=_ref.variant,onClick=_ref.onClick,tag=_ref.tag,Icon=_ref.icon,rest=(0,objectWithoutProperties.Z)(_ref,_excluded);return color="alternative"===variant?"colorNemetonPurple":"inverted"===variant?"white":"greyShark","Add"!==Icon.name&&"Close"!==Icon.name&&"Subtract"!==Icon.name&&"PlayVideo"!==Icon.name&&(0,warn.Z)("IconButton","IconButton is meant to be used with the Add, Close, Subtract, and PlayVideo icons for their universally-recognizable appearance. Other icons should be accompanied with text and not as a part of IconButton."),(0,jsx_runtime.jsx)(styled_components_browser_esm.f6,{theme:getTheme(variant),children:(0,jsx_runtime.jsxs)(StyledIconButton,(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,util_helpers.Q6)(rest)),{},{variant:variant,onClick:onClick,as:tag,ref:ref,children:[(0,jsx_runtime.jsx)(A11yContent.Z,{children:a11yText}),(0,jsx_runtime.jsx)(StyledInteractiveIconHover.Z,{}),(0,jsx_runtime.jsx)(Icon,{color:color})]}))})}));IconButton.displayName="IconButton",IconButton.defaultProps={variant:"default",onClick:void 0,tag:"button"},IconButton.__docgenInfo={description:"",methods:[],displayName:"IconButton",props:{variant:{defaultValue:{value:'"default"',computed:!1},description:"",type:{name:"enum",value:[{value:'"default"',computed:!1},{value:'"alternative"',computed:!1},{value:'"inverted"',computed:!1}]},required:!1},onClick:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"func"},required:!1},tag:{defaultValue:{value:'"button"',computed:!1},description:"",type:{name:"enum",value:[{value:'"button"',computed:!1},{value:'"a"',computed:!1}]},required:!1},a11yText:{description:"",type:{name:"string"},required:!0},icon:{description:"",type:{name:"union",value:[{name:"custom",raw:'componentWithName("Add")'},{name:"custom",raw:'componentWithName("Close")'},{name:"custom",raw:'componentWithName("PlayVideo")'},{name:"custom",raw:'componentWithName("Subtract")'}]},required:!0}}};var core_interactive_icon_IconButton=IconButton;__webpack_require__("./src/core/core-interactive-icon/NavButton.js"),__webpack_require__("./src/core/core-interactive-icon/Limited.js")},"./src/core/core-tooltip/Tooltip.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return core_tooltip_Tooltip}});var objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),inherits=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/inherits.js"),createSuper=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createSuper.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),shared_styles=__webpack_require__("./src/shared-styles/index.js"),util_helpers=__webpack_require__("./src/util-helpers/index.js"),core_interactive_icon=__webpack_require__("./src/core/core-interactive-icon/index.js"),shared_hocs=__webpack_require__("./src/shared-hocs/index.js"),matches=function matches(element,selector){for(var elements=(element.document||element.ownerDocument).querySelectorAll(selector),index=0;elements[index]&&elements[index]!==element;)index+=1;return Boolean(elements[index])},element_closest=function closest(element,selector){for(var currentElement=element;currentElement&&1===currentElement.nodeType;){if(matches(currentElement,selector))return currentElement;currentElement=currentElement.parentNode}return null},A11yContent=__webpack_require__("./src/core/core-a11y-content/A11yContent.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),StyledIconButton=styled_components_browser_esm.ZP.button(shared_styles.ZY.U),TooltipButton=(0,react.forwardRef)((function(_ref,ref){var a11yText=_ref.a11yText,inverted=_ref.inverted,onClick=_ref.onClick,Icon=_ref.icon;return(0,jsx_runtime.jsxs)(StyledIconButton,{onClick:onClick,ref:ref,type:"button",children:[(0,jsx_runtime.jsx)(A11yContent.Z,{children:a11yText}),(0,jsx_runtime.jsx)(Icon,{color:inverted?"white":"greyShark"})]})}));TooltipButton.displayName="TooltipButton",TooltipButton.defaultProps={inverted:!1,onClick:void 0},TooltipButton.__docgenInfo={description:"",methods:[],displayName:"TooltipButton",props:{inverted:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},onClick:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"func"},required:!1},a11yText:{description:"",type:{name:"string"},required:!0},icon:{description:"",type:{name:"custom",raw:'componentWithName("QuestionMarkCircle").isRequired'},required:!1}}};var core_tooltip_TooltipButton=TooltipButton,tooltipText={en:{a11yTextStandalone:"Reveal additional information.",a11yTextLinked:"Reveal additional information for the field named '%{label}'."},fr:{a11yTextStandalone:"Afficher des renseignements supplémentaires.",a11yTextLinked:"Afficher des renseignements supplémentaires pour le champ nommé %{label}."}},generateId=__webpack_require__("./src/utils/generateId.js"),Box=__webpack_require__("./src/core/core-box/Box.js"),media=__webpack_require__("./src/core/core-responsive/media.js"),Text=__webpack_require__("./src/core/core-text/Text.js"),colours=__webpack_require__("./src/core/core-colours/colours.js"),_excluded=["bubbleDimensions","direction","open"],dimensions={bubbleTriggerSize:"24px",bubbleOffset:"7px",bubbleTriangleHeight:"10px",bubbleTriangleWidth:"7px",bubbleTrianglePosition:"12px"},BubbleStyle=(0,styled_components_browser_esm.ZP)((function(_ref){_ref.bubbleDimensions,_ref.direction,_ref.open;var rest=(0,objectWithoutProperties.Z)(_ref,_excluded);return(0,jsx_runtime.jsx)(Box.Z,(0,objectSpread2.Z)({},rest))})).attrs((function(_ref2){return{"data-testid":"bubble",id:_ref2.id}}))(shared_styles.Lz.eP,(function(_ref3){var bubbleDimensions=_ref3.bubbleDimensions,direction=_ref3.direction,open=_ref3.open;return(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({},{display:open?void 0:"none"}),{},{position:"absolute",bottom:"calc(100% + ".concat(bubbleDimensions.bubbleTriangleHeight,")"),backgroundColor:colours.A2,boxShadow:"0 0 2px 0 ".concat(colours._u,", 0 3px 2px 0 rgba(84, 89, 95, 0.25)")},{right:"left"===direction?"-".concat(bubbleDimensions.bubbleOffset):void 0}),{left:"right"===direction?"calc(100% - ".concat(bubbleDimensions.bubbleTriggerSize," - ").concat(bubbleDimensions.bubbleOffset,")"):void 0}),{},{"&:before":(0,objectSpread2.Z)((0,objectSpread2.Z)({content:"",display:"block",position:"absolute",bottom:"-".concat(bubbleDimensions.bubbleTriangleWidth),borderWidth:bubbleDimensions.bubbleTriangleWidth,borderStyle:"solid",borderColor:"transparent ".concat(colours.A2," ").concat(colours.A2," transparent"),backgroundColor:colours.A2,boxShadow:"2px 2px 3px 0 rgba(42, 42, 44, 0.4)",transform:"rotate(45deg)"},{right:"left"===direction?bubbleDimensions.bubbleTrianglePosition:void 0}),{left:"right"===direction?bubbleDimensions.bubbleTrianglePosition:void 0})},media.Z.until("sm").css({maxWidth:"80vw"})),media.Z.from("sm").css({maxWidth:"50vw"})),media.Z.from("md").css({maxWidth:"25vw"}))})),InnerBubbleStyle=styled_components_browser_esm.ZP.div((function(_ref4){var bubbleWidth=_ref4.bubbleWidth;return(0,objectSpread2.Z)((0,objectSpread2.Z)({},bubbleWidth),{},{maxWidth:"100%"})})),Bubble=function Bubble(_ref5){var id=_ref5.id,direction=_ref5.direction,open=_ref5.open,width=_ref5.width,children=_ref5.children;return(0,jsx_runtime.jsx)(BubbleStyle,{vertical:2,horizontal:3,bubbleDimensions:dimensions,direction:direction,open:open,role:"tooltip","aria-live":"assertive","aria-hidden":open?"false":"true",id:id,children:(0,jsx_runtime.jsx)(InnerBubbleStyle,{bubbleWidth:width,children:(0,jsx_runtime.jsx)(Text.Z,{size:"small",children:children})})})};Bubble.__docgenInfo={description:"",methods:[],displayName:"Bubble",props:{id:{description:"",type:{name:"string"},required:!0},direction:{description:"",type:{name:"enum",value:[{value:'"left"',computed:!1},{value:'"right"',computed:!1}]},required:!0},open:{description:"",type:{name:"bool"},required:!0},width:{description:"",type:{name:"object"},required:!0},children:{description:"",type:{name:"node"},required:!0}}};var core_tooltip_Bubble=Bubble,Tooltip_excluded=["direction","connectedFieldLabel","copy","children","forwardedRef"],StyledTooltip=styled_components_browser_esm.ZP.div((0,objectSpread2.Z)((0,objectSpread2.Z)({},shared_styles.aW.c),{},{position:"relative",width:"1rem",height:"1.3rem"})),TooltipContainer=styled_components_browser_esm.ZP.div({position:"absolute"}),T=function(_React$Component){(0,inherits.Z)(T,_React$Component);var _super=(0,createSuper.Z)(T);function T(){var _this;return(0,classCallCheck.Z)(this,T),(_this=_super.call(this)).state={open:!1,halfPageWidth:0,tooltipPos:0},_this.getTriggerA11yText=function(connectedFieldLabel,copy){return copy.a11yText?(0,util_helpers.sn)(tooltipText,copy).a11yText.replace("%{label}",connectedFieldLabel):connectedFieldLabel?(0,util_helpers.sn)(tooltipText,copy).a11yTextLinked.replace("%{label}",connectedFieldLabel):(0,util_helpers.sn)(tooltipText,copy).a11yTextStandalone},_this.getIds=function(connectedFieldLabel){var id=(0,generateId.Z)(connectedFieldLabel,"standalone-tooltip ".concat(_this.uniqueId));return{bubbleId:id.postfix("tooltip"),triggerId:id.postfix("trigger")}},_this.setTooltipRef=function(element){_this.refTooltip=element},_this.toggleBubbleOnOutsideEvent=function(event){var connectedFieldLabel=_this.props.connectedFieldLabel,_this$getIds=_this.getIds(connectedFieldLabel),bubbleId=_this$getIds.bubbleId,triggerId=_this$getIds.triggerId,inBubble=element_closest(event.target,"#".concat(bubbleId)),inTrigger=element_closest(event.target,"#".concat(triggerId));inBubble||inTrigger||_this.toggleBubble()},_this.toggleBubble=function(e){null==e||e.stopPropagation(),_this.updatePageWidth(),_this.setState((function(_ref){return{open:!_ref.open}}))},_this.updatePageWidth=function(){_this.refTooltip&&_this.setState({halfPageWidth:window.innerWidth/2,tooltipPos:_this.refTooltip.getBoundingClientRect().left})},_this.refTooltip=null,_this}return(0,createClass.Z)(T,[{key:"componentDidMount",value:function componentDidMount(){this.updatePageWidth(),this.uniqueId=this.props.tooltipId?this.props.tooltipId:(0,util_helpers.EL)("tooltip")}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.state.open?(document.addEventListener("click",this.toggleBubbleOnOutsideEvent),document.addEventListener("keypress",this.toggleBubbleOnOutsideEvent),window.addEventListener("resize",this.updatePageWidth)):(document.removeEventListener("click",this.toggleBubbleOnOutsideEvent),document.removeEventListener("keypress",this.toggleBubbleOnOutsideEvent),window.removeEventListener("resize",this.updatePageWidth))}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("click",this.toggleBubbleOnOutsideEvent),document.removeEventListener("keypress",this.toggleBubbleOnOutsideEvent),window.removeEventListener("resize",this.updatePageWidth)}},{key:"render",value:function render(){var _this$props=this.props,direction=_this$props.direction,connectedFieldLabel=_this$props.connectedFieldLabel,children=(_this$props.copy,_this$props.children),forwardedRef=_this$props.forwardedRef,rest=(0,objectWithoutProperties.Z)(_this$props,Tooltip_excluded),_this$getIds2=this.getIds(connectedFieldLabel),bubbleId=_this$getIds2.bubbleId,triggerId=_this$getIds2.triggerId,trueDirection=null,bubbleWidth="left"===(trueDirection="auto"===direction?this.state.tooltipPos>this.state.halfPageWidth?"left":"right":direction)?this.state.tooltipPos:2*this.state.halfPageWidth-this.state.tooltipPos-16,width={width:"calc(".concat(bubbleWidth,"px - 1rem - 0.5rem)")};return(0,jsx_runtime.jsx)(StyledTooltip,(0,objectSpread2.Z)((0,objectSpread2.Z)({},(0,util_helpers.Q6)(rest)),{},{ref:forwardedRef||this.setTooltipRef,children:(0,jsx_runtime.jsxs)(TooltipContainer,{"data-testid":"tooltipContainer",children:[(0,jsx_runtime.jsx)(core_tooltip_Bubble,{id:bubbleId,direction:trueDirection,open:this.state.open,width:width,children:children}),(0,jsx_runtime.jsx)(core_tooltip_TooltipButton,{icon:core_interactive_icon.W7,inverted:this.props.inverted,a11yText:this.getTriggerA11yText(this.props.connectedFieldLabel,this.props.copy),onClick:this.toggleBubble,id:triggerId,"aria-controls":bubbleId,"aria-haspopup":"true","aria-expanded":this.state.open?"true":"false"})]})}))}}]),T}(react.Component),propTypes={direction:prop_types_default().oneOf(["left","right","auto"]),connectedFieldLabel:prop_types_default().string,copy:prop_types_default().oneOfType([prop_types_default().oneOf(["en","fr"]),prop_types_default().shape({a11yText:prop_types_default().string})]).isRequired,children:prop_types_default().node.isRequired,tooltipId:prop_types_default().string,forwardedRef:prop_types_default().object,inverted:prop_types_default().bool},defaultProps={direction:"auto",connectedFieldLabel:void 0,tooltipId:void 0,forwardedRef:void 0,inverted:!1},RefForwardedTooltip=(0,shared_hocs.IY)(T),Tooltip=react.forwardRef((function(props,ref){return(0,jsx_runtime.jsx)(RefForwardedTooltip,(0,objectSpread2.Z)((0,objectSpread2.Z)({},props),{},{ref:ref}))}));Tooltip.propTypes=propTypes,Tooltip.defaultProps=defaultProps,T.defaultProps=defaultProps,Tooltip.displayName="Tooltip",Tooltip.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{direction:{defaultValue:{value:'"auto"',computed:!1},description:"",type:{name:"enum",value:[{value:'"left"',computed:!1},{value:'"right"',computed:!1},{value:'"auto"',computed:!1}]},required:!1},connectedFieldLabel:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"string"},required:!1},tooltipId:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"string"},required:!1},forwardedRef:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"object"},required:!1},inverted:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},copy:{description:"",type:{name:"union",value:[{name:"enum",value:[{value:'"en"',computed:!1},{value:'"fr"',computed:!1}]},{name:"shape",value:{a11yText:{name:"string",required:!1}}}]},required:!0},children:{description:"",type:{name:"node"},required:!0}}};var core_tooltip_Tooltip=Tooltip},"./src/shared-hocs/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{F6:function(){return shared_hocs_withFocusTrap},IY:function(){return shared_hocs_withForwardedRef},vA:function(){return shared_hocs_withStyledComponent}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["a11yText","autofocus"],getFocusable=function getFocusable(c){return c.querySelectorAll("button, [href], input, select, textarea, [tabindex]:not([tabindex='-1']), audio[controls], video[controls], [contenteditable]:not([contenteditable=false])")},shared_hocs_withFocusTrap=function withFocusTrap(Component){var WithFocusTrap=function WithFocusTrap(props){var componentRef=(0,react.useRef)(null),a11yText=props.a11yText,autofocus=props.autofocus,rest=(0,objectWithoutProperties.Z)(props,_excluded);(0,react.useEffect)((function(){if(autofocus){var focusableElements=componentRef.current&&getFocusable(componentRef.current)[0];focusableElements&&focusableElements.focus()}}),[autofocus]);var handleFocus=function handleFocus(isEnd){return function(){var focusableElements=getFocusable(componentRef.current);focusableElements[isEnd?0:focusableElements.length-1].focus()}};return(0,jsx_runtime.jsxs)("div",{role:"dialog","aria-modal":"true","aria-label":a11yText,children:[(0,jsx_runtime.jsx)("div",{onFocus:handleFocus(!1),tabIndex:0}),(0,jsx_runtime.jsx)("div",{ref:componentRef,children:(0,jsx_runtime.jsx)(Component,(0,objectSpread2.Z)({},rest))}),(0,jsx_runtime.jsx)("div",{onFocus:handleFocus(!0),tabIndex:0})]})};return WithFocusTrap.defaultProps={a11yText:"modal dialog",autofocus:!0},WithFocusTrap},shared_hocs_withStyledComponent=function withStyledComponent(StyledComponent){return function(Component){return function(props){return(0,jsx_runtime.jsx)(Component,(0,objectSpread2.Z)((0,objectSpread2.Z)({},props),{},{styledComponent:StyledComponent}))}}},shared_hocs_withForwardedRef=function withForwardedRef(Component){var WithForwardedRef=(0,react.forwardRef)((function(props,ref){return(0,jsx_runtime.jsx)(Component,(0,objectSpread2.Z)((0,objectSpread2.Z)({},props),{},{forwardedRef:ref}))}));return WithForwardedRef.displayName="WithForwardedRef(".concat(function getDisplayName(Component){return Component.displayName||Component.name||"Component"}(Component),")"),WithForwardedRef}},"./src/utils/generateId.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return utils_generateId}});var sanitize=function sanitize(text){return text.toString().toLowerCase().replace(/ /g,"-").replace(/[^a-zA-Z0-9-]/g,"")},utils_generateId=function generateId(){for(var _len=arguments.length,choices=new Array(_len),_key=0;_key<_len;_key++)choices[_key]=arguments[_key];var id=sanitize(function array_find_es6_m(t,n,r){if("function"==typeof Array.prototype.find)return t.find(n,r);r=r||this;var f=t.length;if("function"!=typeof n)throw new TypeError(n+" is not a function");for(var o=0;o<f;o++)if(n.call(r,t[o],o,t))return t[o]}(choices,(function(choice){return choice})));return{identity:function identity(){return id},postfix:function postfix(value){return"".concat(id,"_").concat(sanitize(value))}}}}}]);